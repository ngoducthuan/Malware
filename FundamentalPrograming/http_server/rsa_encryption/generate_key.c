//Generate_hey.c
#include <stdio.h>
//#include <stdint.h>


// Define a structure to hold the keys
struct RSAKeys {
    int encode_key;
    int decode_key;
    int n;
};

//Function to find greatest common divisor
int gdc(int a, int b){
    int temp;
    while(b != 0){
        temp = b;
        b = a%b;
        a = temp;
    }
    return a;
}

// Function to calculate the modular multiplicative inverse
int mod_inverse(int a, int m) {
    a = a % m;
    for (int x = 1; x < m; x++) {
        if ((a * x) % m == 1) {
            return x;
        }
    }
    return -1; // No modular inverse exists
}

// Function to generate RSA keys
struct RSAKeys generate_keys() {
    struct RSAKeys keys;
    int p = 67;
    int q = 137;
    keys.n = p * q;
    int t = (p - 1) * (q - 1);
    keys.encode_key = 13;

    // Calculate the modular multiplicative inverse of encode_key
    keys.decode_key = mod_inverse(keys.encode_key, t);

    return keys;
}

// int main() {
//     // Call the function to generate RSA keys
//     struct RSAKeys keys = generate_keys();

//     // Print the generated keys
//     printf("Public key: %d\n", keys.encode_key);
//     printf("Private key: %d\n", keys.decode_key);
//     printf("n: %d\n", keys.n);

//     return 0;
// }